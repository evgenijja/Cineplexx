<!--%rebase('osnova2.html', naslov='Kupljene karte')
-->

<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Cineplexx kinematografi</title>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
	<script src="https://use.fontawesome.com/releases/v5.0.8/js/all.js"></script>

	<link rel="stylesheet" href="{{ROOT}}static/css/bootstrap.min.css">
	<link href="{{ROOT}}static/style.css" rel="stylesheet">
</head>
<body>

<!-- Navigation -->
<nav class="navbar navbar-expand-md navbar-light bg-light sticky-top">
<div class="container-fluid">
	<a class="navbar-brand" href="#"><img src="{{ROOT}}static/img/logo6.PNG"></a>
	<button class="navbar-toggler" type="button" data-toggle="collapse"
	data-target="#navbarResponsive"><span class="navbar-toggler-icon"></span></button>

	<div class="collapse navbar-collapse" id="navbarResponsive">
		<ul class="navbar-nav ml-auto">
			<li class="nav-item active">
				<a class="nav-link" href="{{ROOT}}zacetna_stran2">Domov</a>
			</li>
			

			<li class="nav-item">
				<a class="nav-link" href="{{ROOT}}zacetna_stran">Odjava</a>
			</li>
		</ul>
	</div>

</div>
</nav>

<div class="row col-1"></div>
<div class="row">
  <div class="col-sm-1">
     <p></p> <!--s tem dodam plac na začetku-->
  </div>
  <div><h4>Kupljene karte</h4></div>
</div>


<!--- Image Slider -->
<!--
<div id="slides" class="carousel slide" data-ride="carousel">
	<ul class="carousel-indicators">
		<li data-target="#slides" data-slide-to="0" class="active"></li>
		<li data-target="#slides" data-slide-to="1"></li>
		<li data-target="#slides" data-slide-to="2"></li>
	</ul>

<div class="carousel-inner">
	<div class="carousel-item active">
		<img src="{{ROOT}}static/img/ozadje7.PNG">
		<div class="carousel-caption">
			<h1 class="display-2">Cineplexx</h1>
			<h3>Kinematografi</h3>
			
		</div>
	</div>
	<div class="carousel-item">
		<img src="{{ROOT}}static/img/ozadje3.png">
	</div>
	<div class="carousel-item">
		<img src="{{ROOT}}static/img/ozadje5.PNG">
	</div>
</div>
</div>
</head>-->









<body>
<div class="row">



<!--leva stran-->

<div class="col-1">
      <p></p> 
</div>




<!--sredina-->
    <div class="col-7">
      <div class="card">
        <div class="card-body">
          <div class="table-wrapper">

            <input type="text" id="myInput" onkeyup="myFunction()" placeholder="Išči po idjih..">
            <a href="{{ROOT}}karte/karte2d" class="btn btn-secondary btn-lg active" role="button" aria-pressed="true">2D</a>
            <a href="{{ROOT}}karte/karte3d" class="btn btn-secondary btn-lg active" role="button" aria-pressed="true">3D</a>
            <p><button onclick="sortTable()">Sort</button></p>


 <!--table-responsive table-wrapper-scroll-y my-custom-scrollbar-->
            <div id="table">
      <!--
              <span class="table-add float-right mb-3 mr-2"><a href="#!" class="text-success"><i
                class="fas fa-plus fa-2x" aria-hidden="true"></i></a></span>-->
   
              <table class="table table-bordered table-hover table-sm table-responsive" cellspacing="0" width="100%">
                <thead class="grey lighten-2">
                  <tr>
     
         <!--<th class="th-sm">-->
         <!--<th class="text-center">-->
                  <th class="text-center">Id</th>
                  <th class="text-center">Trajanje</th>
                  <th class="text-center">Tehnologija</th>
                  <th class="text-center">Osnovna cena</th>
                  <th class="text-center">Popust</th>
                  <th class="text-center">Ime kina</th>
     

                  </tr>
                </thead>
                <tbody>


                    %for (id, trajanje, tehnologija, osnovna_cena, popust, kino_ime) in karta:
         
         
                  <tr>
            

      <!-- možnost kljukic pri id-->
        <!-- <td>
            <div class="form-check">
               <input type="checkbox" class="form-check-input" id="materialUnchecked">
               <label class="form-check-label" for="materialUnchecked">{{id}}</label>
            </div>
         </td>-->

<!--dodej gumb use pregledano?-->
                    <td class="pt-3-half" contenteditable="true">{{id}}</td>
                    <td class="pt-3-half" contenteditable="true">{{trajanje}}</td>
                    <td class="pt-3-half" contenteditable="true">{{tehnologija}}</td>
                    <td class="pt-3-half" contenteditable="true">{{osnovna_cena}}</td>
                    <td class="pt-3-half" contenteditable="true">{{popust}}</td>

                    <td class="pt-3-half" contenteditable="false"><a href="{{ROOT}}kinoti">{{kino_ime}}</a></td>

            <td class="pt-3-half">
               <span class="table-up"><a href="#!" class="indigo-text"><i class="fas fa-long-arrow-alt-up"
                  aria-hidden="true"></i></a></span>
            <span class="table-down"><a href="#!" class="indigo-text"><i class="fas fa-long-arrow-alt-down"
                  aria-hidden="true"></i></a></span>
            </td>

            <td>
               <span class="table-remove"><button type="button"
                   class="btn btn-danger btn-rounded btn-sm my-0">Remove</button></span>
             </td>

         </tr>
      %end
      </tbody>
</table>

  </div>  
  </div>
  </div>
  </div>
  </div>



<!--desna stran-->


 
<div class="col-2"> 

  
           <h5 class="bold">Pokaži le</h5>
           <div class="btn-group">
               <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">Scrollable Menu <span class="caret"></span></button>
               <ul class="dropdown-menu scrollable-menu" role="menu">
                   <li><a href="{{ROOT}}karte/karte2d">2D</a></li>
                   <li><a href="{{ROOT}}karte/karte3d">3D</a></li>
                   
               </ul>
           </div>
 

  </div>




</div>


<!--
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.21/css/jquery.dataTables.css">  
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.js"></script>

<script src="{{ROOT}}static/tabele.js"></script>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script src="{{ROOT}}static/js/bootstrap.min.js"></script>
-->


<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script> 

<!-- SCRIPTS -->
<!-- JQuery -->
<script type="text/javascript" src="js/jquery.min.js"></script>
<!-- Bootstrap tooltips -->
<script type="text/javascript" src="js/popper.min.js"></script>
<!-- Bootstrap core JavaScript -->
<script type="text/javascript" src="js/bootstrap.min.js"></script>
<!-- MDB core JavaScript -->
<script type="text/javascript" src="js/mdb.min.js"></script>

<script type="text/javascript" src="js/moment.min.js"></script>


<!--
<script type="text/javascript" src="js/bootstrap-sortable.js"></script>

<script type="text/javascript" src="tabele.js"></script>
<script type="text/javascript" src="scroll.js"></script>
<script type="text/javascript" src="search.js"></script>

<script type="text/javascript" src="sort.js"></script>
-->

<!--javascript za remove, add-->
<script>
src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"

const $tableID = $('#table');
 const $BTN = $('#export-btn');
 const $EXPORT = $('#export');

 const newTr = `
<tr class="hide">
  <td class="pt-3-half" contenteditable="true">Example</td>
  <td class="pt-3-half" contenteditable="true">Example</td>
  <td class="pt-3-half" contenteditable="true">Example</td>
  <td class="pt-3-half" contenteditable="true">Example</td>
  <td class="pt-3-half" contenteditable="true">Example</td>
  <td class="pt-3-half">
    <span class="table-up"><a href="#!" class="indigo-text"><i class="fas fa-long-arrow-alt-up" aria-hidden="true"></i></a></span>
    <span class="table-down"><a href="#!" class="indigo-text"><i class="fas fa-long-arrow-alt-down" aria-hidden="true"></i></a></span>
  </td>
  <td>
    <span class="table-remove"><button type="button" class="btn btn-danger btn-rounded btn-sm my-0 waves-effect waves-light">Remove</button></span>
  </td>
</tr>`;

 $('.table-add').on('click', 'i', () => {

   const $clone = $tableID.find('tbody tr').last().clone(true).removeClass('hide table-line');

   if ($tableID.find('tbody tr').length === 0) {

     $('tbody').append(newTr);
   }

   $tableID.find('table').append($clone);
 });

 $tableID.on('click', '.table-remove', function () {

   $(this).parents('tr').detach();
 });

 $tableID.on('click', '.table-up', function () {

   const $row = $(this).parents('tr');

   if ($row.index() === 0) {
     return;
   }

   $row.prev().before($row.get(0));
 });

 $tableID.on('click', '.table-down', function () {

   const $row = $(this).parents('tr');
   $row.next().after($row.get(0));
 });

 // A few jQuery helpers for exporting only
 jQuery.fn.pop = [].pop;
 jQuery.fn.shift = [].shift;

 $BTN.on('click', () => {

   const $rows = $tableID.find('tr:not(:hidden)');
   const headers = [];
   const data = [];

   // Get the headers (add special header logic here)
   $($rows.shift()).find('th:not(:empty)').each(function () {

     headers.push($(this).text().toLowerCase());
   });

   // Turn all existing rows into a loopable array
   $rows.each(function () {
     const $td = $(this).find('td');
     const h = {};

     // Use the headers from earlier to name our hash keys
     headers.forEach((header, i) => {

       h[header] = $td.eq(i).text();
     });

     data.push(h);
   });

   // Output the result
   $EXPORT.text(JSON.stringify(data));
 });

 $tableID.on('click', '.table-remove', function () {

   (this).parents('tr').detach();
 });

 $tableID.on('click', '.table-up', function () {

   const $row = $(this).parents('tr');

   if ($row.index() === 0) {
     return;
   }

   $row.prev().before($row.get(0));
 });

 $tableID.on('click', '.table-down', function () {

   const $row = $(this).parents('tr');
   $row.next().after($row.get(0));
 });

 // A few jQuery helpers for exporting only
 jQuery.fn.pop = [].pop;
 jQuery.fn.shift = [].shift;

 $BTN.on('click', () => {

   const $rows = $tableID.find('tr:not(:hidden)');
   const headers = [];
   const data = [];

   // Get the headers (add special header logic here)
   $($rows.shift()).find('th:not(:empty)').each(function () {

     headers.push($(this).text().toLowerCase());
   });

   // Turn all existing rows into a loopable array
   $rows.each(function () {
     const $td = $(this).find('td');
     const h = {};

     // Use the headers from earlier to name our hash keys
     headers.forEach((header, i) => {

       h[header] = $td.eq(i).text();
     });

     data.push(h);
   });

   // Output the result
   $EXPORT.text(JSON.stringify(data));
 });  

 function myFunction() {
  // Declare variables
  var input, filter, table, tr, td, i, txtValue;
  input = document.getElementById("myInput");
  filter = input.value.toUpperCase();
  table = document.getElementById("table");
  tr = table.getElementsByTagName("tr");

  // Loop through all table rows, and hide those who don't match the search query
  for (i = 0; i < tr.length; i++) {
    td = tr[i].getElementsByTagName("td")[0];
    if (td) {
      txtValue = td.textContent || td.innerText;
      if (txtValue.toUpperCase().indexOf(filter) > -1) {
        tr[i].style.display = "";
      } else {
        tr[i].style.display = "none";
      }
    }
  }
}</script>

<!--javascript za search-->
<!--ce hoces spremenit po kerem stolpcu išče spremeni [0]-->

<script>
function myFunction() {
   // Declare variables
   var input, filter, table, tr, td, i, txtValue;
   input = document.getElementById("myInput");
   filter = input.value.toUpperCase();
   table = document.getElementById("table");
   tr = table.getElementsByTagName("tr");
 
   // Loop through all table rows, and hide those who don't match the search query
   for (i = 0; i < tr.length; i++) {
     td = tr[i].getElementsByTagName("td")[0];
     if (td) {
       txtValue = td.textContent || td.innerText;
       if (txtValue.toUpperCase().indexOf(filter) > -1) {
         tr[i].style.display = "";
       } else {
         tr[i].style.display = "none";
       }
     }
   }
 }
 </script>

 <!--javascript za sortiranje po abecedi-->
 <script>
    function sortTable() {
    var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
    table = document.getElementById("table");
    switching = true;
    // Set the sorting direction to ascending:
    dir = "asc";
    /* Make a loop that will continue until
    no switching has been done: */
    while (switching) {
      // Start by saying: no switching is done:
      switching = false;
      rows = table.rows;
      /* Loop through all table rows (except the
      first, which contains table headers): */
      for (i = 1; i < (rows.length - 1); i++) {
        // Start by saying there should be no switching:
        shouldSwitch = false;
        /* Get the two elements you want to compare,
        one from current row and one from the next: */
        x = rows[i].getElementsByTagName("TD")[3];
        y = rows[i + 1].getElementsByTagName("TD")[3];
        /* Check if the two rows should switch place,
        based on the direction, asc or desc: */
        if (dir == "asc") {
          if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {
            // If so, mark as a switch and break the loop:
            shouldSwitch = true;
            break;
          }
        } else if (dir == "desc") {
          if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {
            // If so, mark as a switch and break the loop:
            shouldSwitch = true;
            break;
          }
        }
      }
      if (shouldSwitch) {
        /* If a switch has been marked, make the switch
        and mark that a switch has been done: */
        rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
        switching = true;
        // Each time a switch is done, increase this count by 1:
        switchcount ++;
      } else {
        /* If no switching has been done AND the direction is "asc",
        set the direction to "desc" and run the while loop again. */
        if (switchcount == 0 && dir == "asc") {
          dir = "desc";
          switching = true;
        }
      }
    }
   }
  
 </script>


<!--javascript za sortiranje-->

</body>
</html>
